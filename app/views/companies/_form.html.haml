= simple_form_for @company  do |f|
  = f.error_notification
  .form-inputs
    .row
      .col-xs-12.col-sm-6
        = f.input :name, label: 'Name'
      .col-xs-12.col-sm-6
        = f.input :phone, label: 'Phone'
    .row
      .col-xs-12.col-sm-6
        = f.input :jpegger_service_ip, label: 'JPEGger Service IP'
      .col-xs-12.col-sm-6
        = f.input :jpegger_service_port, label: 'JPEGger Service Port'
    .row
      .col-xs-12.col-sm-6
        .form-group
          .form-check
            %label.form-check-label
              = f.check_box :leads_online, class: 'form-check-input'
              Leads Online
              %span.form-check-sign
                %span.check
      .col-xs-12.col-sm-6{id: 'leads_online_row', style: @company.leads_online? ? 'display:block;' : 'display:none;'}
        = f.input :leads_online_store_id, label: 'Leads Online Store ID'
    .row
      .col-xs-12.col-sm-6
        .form-group
          -# if @company.logo.url.blank?
          = f.label :logo, "<i class='fa fa-upload fa-lg text-primary'></i> --Choose Logo--".html_safe, :class => "control-label"
          = f.file_field :logo, class: 'form-control-file', onchange: "PreviewLogo();", required: true
          = f.hidden_field :logo_cache
          = image_tag('', id: 'logo_image', class: 'img-fluid', style: "max-width: 100%; and height: auto;")
          - unless @company.logo.url.blank?
            = image_tag(@company.logo.url(:thumb), id: 'current_logo_image', class: 'img-fluid', style: "max-width: 100%; and height: auto;")
            %br
            .form-group
              .form-check
                %label.form-check-label
                  = f.check_box :remove_logo, class: 'form-check-input'
                  Remove Logo
                  %span.form-check-sign
                    %span.check
    %button.btn.btn-primary{:type => "submit", data: {disable_with: "<i class='fa fa-spinner fa-spin'></i> Save"}} 
      Save

:javascript

  $(document).on("click", '#company_leads_online' , function() {
    if($(this).is(":checked")){
      $('#leads_online_row').fadeIn();
    }
    else if($(this).is(":not(:checked)")){
      $('#leads_online_row').fadeOut();
    }
  });

  function PreviewLogo() {
    var oFReader = new FileReader();
    oFReader.readAsDataURL(document.getElementById("company_logo").files[0]);
    $('#current_logo_image').hide();

    oFReader.onload = function (oFREvent) {
      document.getElementById("logo_image").src = oFREvent.target.result;
    };
  };